<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module Intro: Domain Driven Design</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0F172A;
            color: #D1D5DB;
            overflow: hidden;
        }
        #presentation-wrapper {
            background: linear-gradient(135deg, #0F172A 0%, #1E293B 100%);
        }
        .slide {
            display: flex;
            opacity: 0;
            transition: opacity 0.5s, transform 0.5s;
            position: absolute;
            transform: scale(0.95) translateX(50px);
            pointer-events: none;
            width: 100%;
            height: 100%;
        }
        .slide.active {
            opacity: 1;
            transform: scale(1) translateX(0);
            position: relative;
            pointer-events: auto;
        }
        .slide.exit {
            transform: scale(0.95) translateX(-50px);
        }
        .glass-card {
            background: rgba(30, 41, 59, 0.5);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        #progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: linear-gradient(90deg, #A78BFA 0%, #F472B6 100%);
            width: 0%;
            transition: width 0.4s;
            z-index: 100;
            box-shadow: 0 0 10px #A78BFA;
        }

        /* Light Theme Overrides */
        body.theme-light {
            background-color: #ffffff;
            color: #0F172A;
        }
        body.theme-light #presentation-wrapper {
            background: linear-gradient(135deg, #ffffff 0%, #f1f5f9 100%);
        }
        body.theme-light #navigation {
            background: rgba(255, 255, 255, 0.75);
            border-color: #e5e7eb;
        }
        body.theme-light #navigation svg { color: #475569; }
        body.theme-light #slide-counter { color: #475569; }
        body.theme-light .glass-card {
            background: rgba(255, 255, 255, 0.6);
            border: 1px solid rgba(0, 0, 0, 0.08);
        }
        body.theme-light .bg-slate-700\/50 { background-color: rgba(0,0,0,0.06) !important; }
        
        /* Text utilities on light */
        body.theme-light .text-white { color: #111827 !important; }
        body.theme-light .text-gray-200 { color: #374151 !important; }
        body.theme-light .text-gray-100 { color: #1f2937 !important; }
        body.theme-light .text-gray-300 { color: #4b5563 !important; }
        body.theme-light .text-gray-400 { color: #475569 !important; }
        body.theme-light .text-slate-300 { color: #475569 !important; }
        body.theme-light .text-slate-400 { color: #475569 !important; }
        body.theme-light .text-emerald-300 { color: #065f46 !important; } /* accentKeywords */
        /* Common accent tweaks for icons/badges in cards */
        body.theme-light .text-indigo-300 { color: #4338CA !important; }
        body.theme-light .text-pink-300 { color: #9d174d !important; }
        body.theme-light .text-fuchsia-300 { color: #86198f !important; }
        body.theme-light .text-cyan-300 { color: #155e75 !important; }
        body.theme-light .text-amber-300 { color: #92400e !important; }
        body.theme-light .text-blue-300 { color: #1e40af !important; }

        /* Table header/dark surfaces sometimes used inline */
        body.theme-light .bg-slate-800 { background-color: #f8fafc !important; color: #0f172a !important; }
        
        /* Utility for theme toggle */
        .hidden { display: none !important; }
    </style>
</head>
<body class="bg-slate-900 text-gray-300">
    <div id="progress-bar"></div>
    <div id="presentation-wrapper" class="w-full h-screen flex flex-col items-center justify-center p-4">
        <div id="presentation-container" class="relative w-full h-full flex items-center justify-center">
            <!-- Slides will be injected here -->
        </div>
    </div>
    <div id="navigation" class="fixed bottom-4 left-1/2 -translate-x-1/2 flex items-center bg-slate-800/50 backdrop-blur-sm border border-slate-700 shadow-lg rounded-full px-4 py-2 z-50">
        <button id="prev-btn" class="p-2 rounded-full hover:bg-slate-700 transition-colors disabled:opacity-50">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
        </button>
        <span id="slide-counter" class="mx-4 text-gray-300 font-medium w-16 text-center">1 / 8</span>
        <button id="next-btn" class="p-2 rounded-full hover:bg-slate-700 transition-colors disabled:opacity-50">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
        </button>
        <div class="w-px h-6 bg-slate-700 mx-3"></div>
        <button id="theme-toggle" class="flex items-center gap-2 px-3 py-1.5 rounded-full hover:bg-slate-700/60 transition-colors" aria-label="Toggle theme">
            <svg id="icon-sun" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor"><path d="M10 15a5 5 0 100-10 5 5 0 000 10z"/><path fill-rule="evenodd" d="M10 1a1 1 0 011 1v1a1 1 0 11-2 0V2a1 1 0 011-1zm0 14a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zm9-5a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM4 10a1 1 0 01-1 1H2a1 1 0 110-2h1a1 1 0 011 1zm11.657-6.657a1 1 0 010 1.414L15.414 6a1 1 0 11-1.414-1.414l.243-.243a1 1 0 011.414 0zM6 15.414a1 1 0 001.414 0l.243-.243A1 1 0 106.243 13.757l-.243.243A1 1 0 006 15.414zM15.414 14a1 1 0 011.414 0l.243.243A1 1 0 1115.657 15.9L15.414 15.657A1 1 0 0115.414 14zM4.586 6A1 1 0 003.172 4.586l.243-.243A1 1 0 114.829 5.757L4.586 6z" clip-rule="evenodd"/></svg>
            <svg id="icon-moon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-300 hidden" viewBox="0 0 20 20" fill="currentColor"><path d="M17.293 13.293A8 8 0 116.707 2.707a8.001 8.001 0 1010.586 10.586z"/></svg>
            <span id="theme-label" class="text-sm text-gray-300">Light</span>
        </button>
    </div>
<script>
const slidesData = [
    // Title Slide
    {
        type: 'title',
        title: 'Module Introduction',
        subtitle: 'Domain-Driven Design'
    },
    // Course Goal (icon + bullet points)
    {
        type: 'standard',
        title: 'Course Goal',
        points: [
            `<div class="flex flex-col md:flex-row items-center gap-8">
                <img src="https://img.icons8.com/color/192/goal.png" alt="Goal" class="w-40 h-40"/>
                <ul class="list-disc pl-8 text-xl text-slate-300 space-y-2">
                    <li>Equip students (building on S4 concepts) to use Domain-Driven Design to make sound architectural and collaborative design choices—delivered in a conference-style format.</li>
                    <li>Lesson lengths vary (≈1–3 hours) depending on topic complexity and lab depth.</li>
                </ul>
            </div>`
        ]
    },
    // Learning Outcomes
    {
        type: 'objectives',
        hero: '<img src="https://img.icons8.com/color/96/goal.png" alt="Outcomes" class="w-16 h-16"/>',
        title: 'By The End, Students Can',
        subtitle: 'Depth over volume through practice and reflection',
        objectives: [
            'Analyze a real domain, define Bounded Contexts, and draw Context Maps with clear relationships.',
            'Compare and justify architectural styles (modular monolith, microservices, micro-kernel, pipelines, EDA) across trade-offs like scalability, elasticity, deployability, cost, and maintainability.',
            'Explain when Event Sourcing fits (and when it doesn’t) and reason about its impact on design and operations.',
            'Demonstrate in-depth mastery of Domain Events: discovery, domain vs. integration events, sagas.',
            'Facilitate and participate in Event Storming (Big Picture, Process, Design) to move from sticky notes to actionable models.',
            'Practice Mob Programming to turn collaborative models into clean, testable code and strengthen shared understanding.'
        ]
    },
    // Hint: Depth over Volume
    {
        type: 'hook',
        title: 'Depth Over Volume',
        content: `
            <div class="glass-card p-6 rounded-2xl shadow-lg text-center max-w-2xl mx-auto flex flex-col items-center">
                <img src="https://img.icons8.com/color/96/depth.png" alt="Depth" class="w-20 h-20 mb-4"/>
                <p class="text-xl mb-2">At first glance, the amount of course material may seem small.</p>
                <p class="text-emerald-300 font-bold text-2xl mb-2">That’s intentional: we aim for depth over volume.</p>
                <p class="text-slate-300">Plan time to truly grasp the concepts—understanding comes from practice and reflection, not passive reading.</p>
                <p class="mt-4 text-amber-300 font-semibold">Come to class ready to engage: ask questions</p>
            </div>
        `
    },
    // Week 1
    {
        type: 'cards',
        hero: '<img src="https://img.icons8.com/color/96/flow-chart.png" alt="Week 1" class="w-16 h-16"/>',
        title: 'Week 1 — DDD & Architectural Styles',
        cards: [
            {
                icon: '<img src="https://img.icons8.com/color/96/goal.png" alt="Goals" class="w-6 h-6"/>',
                title: 'Goals',
                full: true,
                items: [
                    'Relate DDD to common architectural styles',
                    'Identify style characteristics and trade‑offs',
                    'Assign characteristics to styles in groups'
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-indigo-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><rect x="3" y="3" width="18" height="18" rx="3" stroke-width="2"/></svg>',
                title: 'Type',
                subtitle: 'Conceptual lecture with a short lab.',
                badges: [
                    { label: 'Lab', bg: 'bg-emerald-500/20', text: 'text-emerald-300', border: 'border-emerald-500/30' }
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-cyan-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M12 6v12m6-6H6" stroke-width="2" stroke-linecap="round"/></svg>',
                title: 'Preparation',
                subtitle: 'None required.',
                badges: [
                    { label: 'No Prep', bg: 'bg-slate-500/20', text: 'text-slate-300', border: 'border-slate-500/30' }
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-pink-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M9 12l2 2 4-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
                title: 'Evaluation',
                subtitle: 'Contributes to final exam. No CA.',
                badges: [
                    { label: 'Exam', bg: 'bg-indigo-500/20', text: 'text-indigo-300', border: 'border-indigo-500/30' },
                    { label: 'No CA', bg: 'bg-slate-500/20', text: 'text-slate-300', border: 'border-slate-500/30' }
                ]
            }
        ]
    },
    // Week 2
    {
        type: 'cards',
        hero: '<img src="https://img.icons8.com/color/96/map.png" alt="Week 2" class="w-16 h-16"/>',
        title: 'Week 2 — Bounded Contexts & Context Maps',
        cards: [
            {
                icon: '<img src="https://img.icons8.com/color/96/goal.png" alt="Goals" class="w-6 h-6"/>',
                title: 'Goals',
                full: true,
                items: [
                    'Identify bounded contexts in a domain',
                    'Draw a context map with relationships',
                    'Explain mapping patterns and implications'
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-indigo-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><rect x="3" y="3" width="18" height="18" rx="3" stroke-width="2"/></svg>',
                title: 'Type',
                subtitle: 'Conceptual lecture with a lab.',
                badges: [
                    { label: 'Lab', bg: 'bg-emerald-500/20', text: 'text-emerald-300', border: 'border-emerald-500/30' }
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-cyan-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M12 6v12m6-6H6" stroke-width="2" stroke-linecap="round"/></svg>',
                title: 'Preparation',
                subtitle: 'Watch/read the supplementary material.',
                badges: [
                    { label: 'Prep', bg: 'bg-cyan-500/20', text: 'text-cyan-300', border: 'border-cyan-500/30' }
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-pink-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M9 12l2 2 4-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
                title: 'Evaluation',
                subtitle: 'Contributes to final exam. No CA.',
                badges: [
                    { label: 'Exam', bg: 'bg-indigo-500/20', text: 'text-indigo-300', border: 'border-indigo-500/30' },
                    { label: 'No CA', bg: 'bg-slate-500/20', text: 'text-slate-300', border: 'border-slate-500/30' }
                ]
            }
        ]
    },
    // Week 3
    {
        type: 'cards',
        hero: '<img src="https://img.icons8.com/color/96/brainstorm-skill.png" alt="Week 3" class="w-16 h-16"/>',
        title: 'Week 3 — Event Storming',
        cards: [
            {
                icon: '<img src="https://img.icons8.com/color/96/goal.png" alt="Goals" class="w-6 h-6"/>',
                title: 'Goals',
                full: true,
                items: [
                    'Facilitate Big Picture/Process Event Storming',
                    'Discover domain events, commands, and policies',
                    'Produce an actionable model and next steps'
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-indigo-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="9" stroke-width="2"/><path d="M9.5 9a2.5 2.5 0 115 0c0 1.5-1 2-2 2.5-.8.4-1 1-1 1.5" stroke-width="2" stroke-linecap="round"/><circle cx="12" cy="17" r="1" stroke-width="2"/></svg>',
                title: 'Type',
                subtitle: 'Lecture + lab + Leho quiz.',
                badges: [
                    { label: 'Lab', bg: 'bg-emerald-500/20', text: 'text-emerald-300', border: 'border-emerald-500/30' },
                    { label: 'Quiz', bg: 'bg-fuchsia-500/20', text: 'text-fuchsia-300', border: 'border-fuchsia-500/30' }
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-cyan-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M12 6v12m6-6H6" stroke-width="2" stroke-linecap="round"/></svg>',
                title: 'Preparation',
                subtitle: 'Watch/read the supplementary material.',
                badges: [
                    { label: 'Prep', bg: 'bg-cyan-500/20', text: 'text-cyan-300', border: 'border-cyan-500/30' }
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-pink-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M9 12l2 2 4-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
                title: 'Evaluation',
                subtitle: 'Includes continuous assessment (graded group lab).',
                badges: [
                    { label: 'CA', bg: 'bg-amber-500/20', text: 'text-amber-300', border: 'border-amber-500/30' }
                ]
            }
        ]
    },
    // Week 4
    {
        type: 'cards',
        hero: '<img src="https://img.icons8.com/color/96/puzzle.png" alt="Week 4" class="w-16 h-16"/>',
        title: 'Week 4 — Aggregates Beyond Borders',
        cards: [
            {
                icon: '<img src="https://img.icons8.com/color/96/goal.png" alt="Goals" class="w-6 h-6"/>',
                title: 'Goals',
                full: true,
                items: [
                    'Define aggregate boundaries and invariants',
                    'Coordinate aggregates across contexts (sagas)',
                    'Apply building blocks effectively'
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-indigo-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><rect x="3" y="3" width="18" height="18" rx="3" stroke-width="2"/></svg>',
                title: 'Type',
                subtitle: 'Interactive, conference-style lecture. No lab.',
                badges: [
                    { label: 'No Lab', bg: 'bg-slate-500/20', text: 'text-slate-300', border: 'border-slate-500/30' }
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-cyan-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M12 6v12m6-6H6" stroke-width="2" stroke-linecap="round"/></svg>',
                title: 'Preparation',
                subtitle: 'No preparation.',
                badges: [
                    { label: 'No Prep', bg: 'bg-slate-500/20', text: 'text-slate-300', border: 'border-slate-500/30' }
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-pink-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M9 12l2 2 4-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
                title: 'Evaluation',
                subtitle: 'Contributes to final exam. No CA.',
                badges: [
                    { label: 'Exam', bg: 'bg-indigo-500/20', text: 'text-indigo-300', border: 'border-indigo-500/30' },
                    { label: 'No CA', bg: 'bg-slate-500/20', text: 'text-slate-300', border: 'border-slate-500/30' }
                ]
            }
        ]
    },
    // Week 5
    {
        type: 'cards',
        hero: '<img src="https://img.icons8.com/color/96/collaboration.png" alt="Week 5" class="w-16 h-16"/>',
        title: 'Week 5 — Mob Programming',
        cards: [
            {
                icon: '<img src="https://img.icons8.com/color/96/goal.png" alt="Goals" class="w-6 h-6"/>',
                title: 'Goals',
                full: true,
                items: [
                    'Practice mob roles and collaboration patterns',
                    'Write clean, testable code as a team',
                    'Strengthen shared understanding and flow'
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-indigo-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><rect x="3" y="3" width="18" height="18" rx="3" stroke-width="2"/></svg>',
                title: 'Type',
                subtitle: 'Conceptual lecture with a lab.',
                badges: [
                    { label: 'Lab', bg: 'bg-emerald-500/20', text: 'text-emerald-300', border: 'border-emerald-500/30' }
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-cyan-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M12 6v12m6-6H6" stroke-width="2" stroke-linecap="round"/></svg>',
                title: 'Preparation',
                subtitle: 'Watch/read the supplementary material.',
                badges: [
                    { label: 'Prep', bg: 'bg-cyan-500/20', text: 'text-cyan-300', border: 'border-cyan-500/30' }
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-pink-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M9 12l2 2 4-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
                title: 'Evaluation',
                subtitle: 'Includes continuous assessment (graded lab).',
                badges: [
                    { label: 'CA', bg: 'bg-amber-500/20', text: 'text-amber-300', border: 'border-amber-500/30' }
                ]
            }
        ]
    },
    // Week 6 — Part 1
    {
        type: 'cards',
        hero: '<img src="https://img.icons8.com/color/96/time-machine.png" alt="Week 6 Part 1" class="w-16 h-16"/>',
        title: 'Week 6 — Part 1: Event Sourcing',
        cards: [
            {
                icon: '<img src="https://img.icons8.com/color/96/goal.png" alt="Goals" class="w-6 h-6"/>',
                title: 'Goals',
                full: true,
                items: [
                    'Explain Event Sourcing mechanics',
                    'Decide when ES fits (trade‑offs)',
                    'Reason about operational impact (storage/replay)'
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-indigo-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><rect x="3" y="3" width="18" height="18" rx="3" stroke-width="2"/></svg>',
                title: 'Type',
                subtitle: 'Guest lecture by an industry expert. No lab.',
                badges: [
                    { label: 'No Lab', bg: 'bg-slate-500/20', text: 'text-slate-300', border: 'border-slate-500/30' }
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-cyan-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M12 6v12m6-6H6" stroke-width="2" stroke-linecap="round"/></svg>',
                title: 'Preparation',
                subtitle: 'Watch the Event Sourcing video.',
                badges: [
                    { label: 'Prep', bg: 'bg-cyan-500/20', text: 'text-cyan-300', border: 'border-cyan-500/30' }
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-pink-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M9 12l2 2 4-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
                title: 'Evaluation',
                subtitle: 'Contributes to final exam. No CA.',
                badges: [
                    { label: 'Exam', bg: 'bg-indigo-500/20', text: 'text-indigo-300', border: 'border-indigo-500/30' },
                    { label: 'No CA', bg: 'bg-slate-500/20', text: 'text-slate-300', border: 'border-slate-500/30' }
                ]
            }
        ]
    },
    // Week 6 — Part 2
    {
        type: 'cards',
        hero: '<svg class="w-16 h-16 text-indigo-300" viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="7" y="2" width="10" height="6" rx="2" stroke-width="2"/><path d="M7 6h10v14a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V6z" stroke-width="2"/><path d="M9 12l2 2 4-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
        title: 'Week 6 — Part 2: Final Exam',
        cards: [
            {
                icon: '<img src="https://img.icons8.com/color/96/goal.png" alt="Goals" class="w-6 h-6"/>',
                title: 'Goals',
                full: true,
                items: [
                    'Demonstrate mastery across topics',
                    'Manage time effectively',
                    'Apply lessons and self‑study knowledge'
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-indigo-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><rect x="3" y="3" width="18" height="18" rx="3" stroke-width="2"/></svg>',
                title: 'Type',
                subtitle: 'Leho Quiz. Duration: 180 minutes. Date: TODO.',
                badges: [
                    { label: 'Exam', bg: 'bg-indigo-500/20', text: 'text-indigo-300', border: 'border-indigo-500/30' },
                    { label: 'Leho', bg: 'bg-fuchsia-500/20', text: 'text-fuchsia-300', border: 'border-fuchsia-500/30' }
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-cyan-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M12 6v12m6-6H6" stroke-width="2" stroke-linecap="round"/></svg>',
                title: 'Preparation',
                subtitle: 'Review course materials and self‑study.',
                badges: [
                    { label: 'Prep', bg: 'bg-cyan-500/20', text: 'text-cyan-300', border: 'border-cyan-500/30' }
                ]
            },
            {
                icon: '<svg class="w-6 h-6 text-pink-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M9 12l2 2 4-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
                title: 'Evaluation',
                subtitle: 'Final exam session.',
                badges: [
                    { label: 'Exam', bg: 'bg-indigo-500/20', text: 'text-indigo-300', border: 'border-indigo-500/30' }
                ]
            }
        ]
    },
    // Selfstudie
    {
        type: 'cards',
        hero: '<img src="https://img.icons8.com/color/96/open-book--v1.png" alt="Selfstudie" class="w-16 h-16"/>',
        title: 'Selfstudie',
        cards: [
            {
                icon: '<img src="https://img.icons8.com/color/96/open-book--v1.png" alt="Selfstudy" class="w-6 h-6"/>',
                title: 'Complementary Self‑Study',
                subtitle: 'Assessed in the final exam.'
            },
            {
                icon: '<img src="https://img.icons8.com/color/96/ask-question.png" alt="Questions" class="w-6 h-6"/>',
                title: 'Ask Questions',
                subtitle: 'Bring self‑study topics to class.'
            },
            {
                icon: '<img src="https://img.icons8.com/color/96/ok.png" alt="Counts" class="w-6 h-6"/>',
                title: 'Everything Counts',
                subtitle: 'All self‑study contributes to the exam.'
            }
        ]
    },
    // Evaluation (cards)
    {
        type: 'cards',
        hero: '<svg class="w-16 h-16 text-indigo-300" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 7h18" stroke-width="2"/><path d="M5 11h10M5 15h14" stroke-width="2" stroke-linecap="round"/><rect x="3" y="3" width="18" height="18" rx="3" stroke-width="2"/></svg>',
        title: 'Evaluation',
        cards: [
            {
                icon: '<img src="https://img.icons8.com/color/96/checklist.png" alt="CA" class="w-6 h-6"/>',
                title: 'Continuous Assessment',
                subtitle: 'Completeness, correctness, contribution; weighted as a whole.',
                badge: { label: '30%', bg: 'bg-amber-500/20', text: 'text-amber-300', border: 'border-amber-500/30' }
            },
            {
                icon: '<img src="https://img.icons8.com/color/96/test-passed.png" alt="Exam" class="w-6 h-6"/>',
                title: 'Final Exam',
                subtitle: 'Multiple-choice + short answers + quiz types.',
                badge: { label: '70%', bg: 'bg-indigo-500/20', text: 'text-indigo-300', border: 'border-indigo-500/30' }
            },
            {
                icon: '<img src="https://img.icons8.com/color/96/restart--v1.png" alt="Resit" class="w-6 h-6"/>',
                title: 'Resit',
                subtitle: '100% retake of final exam; includes CA-marked lessons.',
                badge: { label: '100%', bg: 'bg-pink-500/20', text: 'text-pink-300', border: 'border-pink-500/30' }
            }
        ]
    },
    // Permitted use of AI
    {
        type: 'standard',
        title: 'Permitted Use of AI',
        points: [
            'Maak gebruik van het beleidskader AI in het onderwijs (juni \'24) en kies welk van de volgende situaties voor dit OLOD van toepassing is:',
            '<span class="font-bold text-cyan-300">AI-bewerkingen en verfijningen bovenop het eigen werk.</span> Studenten gebruiken AI om werk te verbeteren of versterken, niet voor nieuwe inhoud. Origineel werk zonder AI is ingediend als bijlage.'
        ],
        graphic: `<div class="flex justify-center mt-8"><img src="https://img.icons8.com/color/96/artificial-intelligence.png" alt="AI" class="w-24 h-24"/></div>`
    }
];

const presentationContainer = document.getElementById('presentation-container');
const prevBtn = document.getElementById('prev-btn');
const nextBtn = document.getElementById('next-btn');
const slideCounter = document.getElementById('slide-counter');
const progressBar = document.getElementById('progress-bar');

// Theme toggle + persistence
const themeToggleBtn = document.getElementById('theme-toggle');
const themeLabel = document.getElementById('theme-label');
const iconSun = document.getElementById('icon-sun');
const iconMoon = document.getElementById('icon-moon');

function applyTheme(theme) {
    if (theme === 'light') {
        document.body.classList.add('theme-light');
        document.body.classList.remove('bg-slate-900', 'text-gray-300');
        document.body.classList.add('bg-white', 'text-slate-800');
        iconSun.classList.add('hidden');
        iconMoon.classList.remove('hidden');
        themeLabel.textContent = 'Dark';
    } else {
        document.body.classList.remove('theme-light');
        document.body.classList.add('bg-slate-900', 'text-gray-300');
        document.body.classList.remove('bg-white', 'text-slate-800');
        iconSun.classList.remove('hidden');
        iconMoon.classList.add('hidden');
        themeLabel.textContent = 'Light';
    }
    try { localStorage.setItem('slides-theme', theme); } catch (e) {}
}

const savedTheme = (function(){ try { return localStorage.getItem('slides-theme'); } catch(e) { return null; } })() || 'dark';
applyTheme(savedTheme);

themeToggleBtn.addEventListener('click', () => {
    const next = document.body.classList.contains('theme-light') ? 'dark' : 'light';
    applyTheme(next);
});
let currentSlide = 0;
let slides = [];

// Accent key domain terms inside objectives
function accentKeywords(text) {
    const terms = [
        'Bounded Contexts',
        'Context Maps',
        'architectural styles',
        'Event Sourcing',
        'Domain Events',
        'Event Storming',
        'Mob Programming',
    ];
    let result = text;
    terms.forEach(term => {
        const re = new RegExp(term.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
        result = result.replace(re, `<span class=\"text-emerald-300 font-semibold\">${term}</span>`);
    });
    return result;
}

function createSlide(slideData, index) {
    const slideEl = document.createElement('div');
    slideEl.className = `slide p-6 flex-col items-center justify-center text-slate-800`;
    slideEl.style.maxWidth = '1200px';
    slideEl.style.maxHeight = '750px';
    slideEl.style.aspectRatio = '16/10';
    switch (slideData.type) {
        case 'title':
            slideEl.innerHTML = `
                <div class="text-center">
                    <h1 class="text-6xl font-black tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-indigo-400 to-cyan-400 leading-tight pb-1">${slideData.title}</h1>
                    <p class="mt-4 text-3xl font-semibold text-slate-300 leading-relaxed">${slideData.subtitle}</p>
                </div>
            `;
            break;
        case 'standard':
            // Render each point as a flex row (icon + text), not as a bulletpoint
            {
                let pointsHtml = slideData.points.map(point => `<div class=\"flex items-center gap-5 mb-3 text-xl text-slate-300 leading-snug\">${point}</div>`).join('');
                slideEl.innerHTML = `
                    <div class=\"w-full px-8\">
                        ${slideData.hero ? `<div class=\"flex justify-center mb-2\">${slideData.hero}</div>` : ''}
                        <h2 class=\"text-4xl font-extrabold mb-3 text-gray-200 text-center\">${slideData.title}</h2>
                        ${slideData.subtitle ? `<p class=\"text-xl text-slate-400 mb-6 text-center\">${slideData.subtitle}</p>` : ''}
                        ${pointsHtml}
                        ${slideData.graphic ? slideData.graphic : ''}
                    </div>
                `;
            }
            break;
        case 'two-col':
            {
                // Render points in a responsive 2-column grid
                const pointsGrid = `<div class="grid grid-cols-1 md:grid-cols-2 gap-4">${
                    slideData.points.map(point => `<div class="flex items-start gap-3 text-[15px] md:text-base text-slate-300 leading-snug">${point}</div>`).join('')
                }</div>`;
                slideEl.innerHTML = `
                    <div class="w-full px-8">
                        ${slideData.hero ? `<div class=\"flex justify-center mb-2\">${slideData.hero}</div>` : ''}
                        <h2 class="text-4xl font-extrabold mb-3 text-gray-200 text-center">${slideData.title}</h2>
                        ${slideData.subtitle ? `<p class="text-xl text-slate-400 mb-6 text-center">${slideData.subtitle}</p>` : ''}
                        ${pointsGrid}
                        ${slideData.graphic ? slideData.graphic : ''}
                    </div>
                `;
            }
            break;
        case 'objectives':
            let objectivesHtml = slideData.objectives.map(obj => `
                <li class="flex items-start">
                    <svg class="h-6 w-6 text-emerald-400 mr-3 mt-1 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <span class="text-lg text-slate-300">${accentKeywords(obj)}</span>
                </li>
            `).join('');
            slideEl.innerHTML = `
                <div class="w-full px-8">
                    ${slideData.hero ? `<div class=\"flex justify-center mb-2\">${slideData.hero}</div>` : ''}
                    <h2 class="text-4xl font-extrabold mb-3 text-gray-200 text-center">${slideData.title}</h2>
                    <p class="text-xl text-slate-400 mb-6 text-center">${slideData.subtitle}</p>
                    <ul class="grid md:grid-cols-2 gap-x-8 gap-y-3">
                        ${objectivesHtml}
                    </ul>
                    ${slideData.graphic ? slideData.graphic : ''}
                </div>
            `;
            break;
        case 'cards':
            {
                const cards = (slideData.cards || []).map(card => {
                    const badges = Array.isArray(card.badges) && card.badges.length > 0
                        ? card.badges.map(b => `<span class=\"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold border ${b.bg} ${b.text} ${b.border}\">${b.label}</span>`).join('')
                        : (card.badge ? `<span class=\"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold border ${card.badge.bg} ${card.badge.text} ${card.badge.border}\">${card.badge.label}</span>` : '');
                    const content = Array.isArray(card.items) && card.items.length > 0
                        ? `<ul class=\"mt-2 space-y-1\">${card.items.map(i => `<li class=\"flex items-start text-sm text-slate-300\"><svg class=\"h-4 w-4 text-emerald-400 mt-0.5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4\"></path></svg><span>${i}</span></li>`).join('')}</ul>`
                        : (card.subtitle ? `<div class=\"text-slate-400 text-sm mt-1\">${card.subtitle}</div>` : '');
                    const spanClass = card.full ? 'md:col-span-3 md:mx-auto md:max-w-2xl text-center' : '';
                    const flexJustify = card.full ? 'justify-center' : '';
                    const headerJustify = card.full ? 'justify-center' : 'justify-between';
                    return `
                    <div class=\"glass-card p-5 rounded-xl border border-white/10 shadow-lg ${spanClass}\">
                        <div class=\"flex items-start gap-3 ${flexJustify}\">
                            ${card.icon ? `<div class=\"w-10 h-10 rounded-full flex items-center justify-center bg-slate-700/50\">${card.icon}</div>` : ''}
                            <div class=\"flex-1 ${card.full ? 'text-center' : ''}\">
                                <div class=\"flex items-center ${headerJustify}\">
                                    <div class=\"text-gray-100 font-bold text-xl\">${card.title}</div>
                                    <div class=\"flex items-center\">${badges}</div>
                                </div>
                                ${content}
                            </div>
                        </div>
                    </div>`;
                }).join('');
                slideEl.innerHTML = `
                    <div class=\"w-full px-8\">
                        ${slideData.hero ? `<div class=\"flex justify-center mb-2\">${slideData.hero}</div>` : ''}
                        <h2 class=\"text-4xl font-extrabold mb-4 text-gray-200 text-center\">${slideData.title}</h2>
                        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">${cards}</div>
                        ${slideData.graphic ? slideData.graphic : ''}
                    </div>
                `;
            }
            break;
        case 'hook':
            slideEl.innerHTML = `
                <h2 class="text-3xl font-bold mb-6 text-center text-gray-200">${slideData.title}</h2>
                ${slideData.content}
            `;
            break;
    }
    return slideEl;
}

function renderSlides() {
    presentationContainer.innerHTML = '';
    slides = slidesData.map((slideData, index) => {
        const slide = createSlide(slideData, index);
        presentationContainer.appendChild(slide);
        return slide;
    });
}

let previousSlide = 0;
function showSlide(index) {
    slides[previousSlide]?.classList.remove('active');
    slides[previousSlide]?.classList.add('exit');
    slides[index]?.classList.add('active');
    slides[index]?.classList.remove('exit');
    previousSlide = index;
    currentSlide = index;
    slideCounter.textContent = `${index + 1} / ${slidesData.length}`;
    progressBar.style.width = `${((index + 1) / slidesData.length) * 100}%`;
    updateNavButtons();
}
function updateNavButtons() {
    prevBtn.disabled = currentSlide === 0;
    nextBtn.disabled = currentSlide === slidesData.length - 1;
}
prevBtn.addEventListener('click', () => {
    if (currentSlide > 0) {
        showSlide(currentSlide - 1);
    }
});
nextBtn.addEventListener('click', () => {
    if (currentSlide < slidesData.length - 1) {
        showSlide(currentSlide + 1);
    }
});
document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowRight' || e.key === 'ArrowDown' || e.key === 'PageDown' || e.key === ' ' || e.key === 'Enter') {
        e.preventDefault();
        nextBtn.click();
    } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp' || e.key === 'PageUp') {
        e.preventDefault();
        prevBtn.click();
    }
});
renderSlides();
showSlide(0);
</script>
</body>
</html>
